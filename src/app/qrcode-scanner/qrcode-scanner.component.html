<app-error-message #error></app-error-message>
<div class="container mt-5 text-center">
    <zxing-scanner
        [formats]="allowedFormats"
        (scanSuccess)="handleQrCodeResult($event)"
        (scanError)="handleError($event)"
        (camerasNotFound)="handleError($event)"
        [enable]="qrCodeScannerEnabled"
        [device]="selectedDevice"
        (camerasFound)="handleCamerasFound($event)"
        *ngIf="qrCodeScannerEnabled"
        >
    </zxing-scanner>
    <img *ngIf="!qrCodeScannerEnabled" src="qr-code-placeholder.png" alt="QR Code Placeholder penis" />

    <div class="text-center mt-3">
        <button class="btn btn-success py-3 px-5" (click)="enableScanner()" *ngIf="!qrCodeScannerEnabled">Start</button>
        <button class="btn btn-danger py-3 px-5" (click)="disableScanner()" *ngIf="qrCodeScannerEnabled">Stop</button>
        <button type="button" class="btn btn-warning px-3 py-3" (click)="switchCamera()" *ngIf="qrCodeScannerEnabled && availableCameras()">Switch</button>
    </div>

    <div class="mt-3">
        <h4 *ngIf="qrCodeResult">{{ qrCodeResult }}</h4>
    </div>
</div>